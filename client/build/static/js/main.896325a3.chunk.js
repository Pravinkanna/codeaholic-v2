(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{109:function(e,t,a){},117:function(e,t,a){},536:function(e,t,a){},537:function(e,t,a){},538:function(e,t,a){},539:function(e,t,a){},540:function(e,t,a){},541:function(e,t,a){},542:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(19),o=a.n(c),l=(a(60),a(87),a(55)),s=function(e,t,a){l.a.event({category:e,action:t,label:a})},u=a(6),i=a.n(u),m=a(9),d=a(8),p=a(56),f={login:function(){var e=Object(m.a)(i.a.mark((function e(t,a){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.post("/api/user/login",{email:t,password:a,role:"user"});case 3:return n=e.sent,e.abrupt("return",n);case 7:if(e.prev=7,e.t0=e.catch(0),401!==e.t0.response.status){e.next=13;break}return e.abrupt("return",e.t0.response);case 13:console.log(e.t0.message);case 14:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,a){return e.apply(this,arguments)}}(),register:function(){var e=Object(m.a)(i.a.mark((function e(t,a,n){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.post("/api/user/register",{name:t,email:a,password:n,role:"user"});case 3:return r=e.sent,e.abrupt("return",r);case 7:if(e.prev=7,e.t0=e.catch(0),400!==e.t0.response.status){e.next=11;break}return e.abrupt("return",e.t0.response);case 11:console.log(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,a,n){return e.apply(this,arguments)}}(),logout:function(){var e=Object(m.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.get("/api/user/logout");case 3:return t=e.sent,e.abrupt("return",t);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),isAuthenticated:function(){var e=Object(m.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.get("/api/user/authenticated");case 3:if(401===(t=e.sent).status){e.next=8;break}return e.abrupt("return",t.data);case 8:return e.abrupt("return",{isAuthenticated:!1,user:{name:"",email:"",role:""}});case 9:e.next=18;break;case 11:if(e.prev=11,e.t0=e.catch(0),401!==e.t0.response.status){e.next=17;break}return e.abrupt("return",{isAuthenticated:!1,user:{name:"",email:"",role:""}});case 17:console.log(e.t0.message);case 18:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}()},v=Object(n.createContext)(),b=function(e){var t=e.children,a=Object(n.useState)(null),c=Object(d.a)(a,2),o=c[0],l=c[1],s=Object(n.useState)(!1),u=Object(d.a)(s,2),p=u[0],b=u[1],E=Object(n.useState)(!1),h=Object(d.a)(E,2),g=h[0],w=h[1];return Object(n.useEffect)((function(){function e(){return(e=Object(m.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.isAuthenticated();case 3:t=e.sent,l(t.user),b(t.isAuthenticated),w(!0),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),r.a.createElement("div",null,g?r.a.createElement(v.Provider,{value:{user:o,setUser:l,isAuthenticated:p,setIsAuthenticated:b}},t):r.a.createElement("h1",null,"Loading"))},E=Object(n.createContext)(),h=function(e){var t=e.children,a=Object(n.useState)("50"),c=Object(d.a)(a,2),o=c[0],l=c[1],s=Object(n.useState)(16),u=Object(d.a)(s,2),i=u[0],m=u[1],p=Object(n.useState)(""),f=Object(d.a)(p,2),v=f[0],b=f[1],h=Object(n.useState)(""),g=Object(d.a)(h,2),w=g[0],O=g[1],j=Object(n.useState)(""),S=Object(d.a)(j,2),x=S[0],y=S[1],C=Object(n.useState)(""),I=Object(d.a)(C,2),N=I[0],k=I[1],L=Object(n.useState)(!1),z=Object(d.a)(L,2),P=z[0],R=z[1],M=Object(n.useState)(!1),A=Object(d.a)(M,2),B=A[0],G=A[1],K=Object(n.useState)(!1),_=Object(d.a)(K,2),H=_[0],J=_[1],D=Object(n.useState)(!1),F=Object(d.a)(D,2),T=F[0],Q=F[1],U=Object(n.useState)(!1),W=Object(d.a)(U,2),V=W[0],q=W[1],Y=Object(n.useState)(window.width),$=Object(d.a)(Y,2),X=$[0],Z=$[1];return r.a.createElement(E.Provider,{value:{languageId:o,fontSize:i,code:v,input:w,output:x,result:N,shareId:P,isError:B,isLoading:H,shareModalShow:T,loginModalShow:V,width:X,setLanguageId:l,setFontSize:m,setCode:b,setInput:O,setOutput:y,setResult:k,setShareId:R,setIsError:G,setIsLoading:J,setShareModalShow:Q,setLoginModalShow:q,setWidth:Z}},t)},g=a(54),w=a(74),O=a(547),j=a(79),S=a(553),x=a(552),y=(a(109),a(73)),C=a.n(y),I=a(56),N=function(){var e=Object(m.a)(i.a.mark((function e(t,a){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I.post("/api/ide/share",{language_id:t,source_code:a});case 3:return n=e.sent,e.abrupt("return",n);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,a){return e.apply(this,arguments)}}(),k=function(){var e=Object(m.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I.get("/api/ide/share/".concat(t));case 3:return a=e.sent,e.abrupt("return",a);case 7:if(e.prev=7,e.t0=e.catch(0),404!==e.t0.response.status){e.next=11;break}return e.abrupt("return",e.t0.response);case 11:console.log(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();var L=function(){var e=Object(n.useContext)(v),t=e.isAuthenticated,a=e.setIsAuthenticated,c=Object(n.useContext)(E),o=c.languageId,l=c.code,u=c.fontSize,d=c.setLanguageId,p=c.setFontSize,b=c.setShareId,h=c.setShareModalShow,g=c.setLoginModalShow;Object(n.useEffect)((function(){a(t)}),[t,a]);var y=function(){var e=Object(m.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!l){e.next=10;break}return e.next=3,N(o,l);case 3:t=e.sent,console.log(t),b(t.data.data._id),h(!0),s("Share","Code Shared Button","IDE_PAGE"),e.next=11;break;case 10:alert("Editor is empty!");case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),I=r.a.createElement(w.a,{className:"login",onClick:function(){g(!0),s("Login","Login Button","IDE_PAGE")}},r.a.createElement("i",{className:"fas fa-sign-in-alt"}),"\xa0Login"),k=r.a.createElement(O.a,{className:"fontSizeBtn",title:"My Account"},r.a.createElement(j.a.Item,null,"My Files"),r.a.createElement(j.a.Item,{onClick:function(){f.logout()}},"Logout"));return r.a.createElement(S.a,{variant:"dark",expand:"lg",className:"Navbar"},r.a.createElement(S.a.Brand,{href:"#home",className:"NavbarBrand"},r.a.createElement("img",{src:C.a,alt:"logo",className:"Logo"}),"\xa0 ",r.a.createElement("h1",{className:"BrandName"},"Pravin IDE")),r.a.createElement(S.a.Toggle,{"aria-controls":"basic-navbar-nav"}),r.a.createElement(S.a.Collapse,{id:"basic-navbar-nav"},r.a.createElement(x.a,{className:"ml-auto"},r.a.createElement(O.a,{className:"languageBtn",title:{50:"C (GCC 9.2.0)",54:"C++ (GCC 9.2.0)",71:"Python (3.8.1)",62:"Java (OpenJDK 13.0.1)",63:"JavaScript (Node.js 12.14.0)",68:"PHP (7.4.1)",82:"SQL (SQLite 3.27.2)"}[o],onSelect:function(e){d(e)}},r.a.createElement(j.a.Item,{className:"50"===o?"selected":"",eventKey:"50"},"C (GCC 9.2.0)"),r.a.createElement(j.a.Item,{className:"54"===o?"selected":"",eventKey:"54"},"C++ (GCC 9.2.0)"),r.a.createElement(j.a.Item,{className:"71"===o?"selected":"",eventKey:"71"},"Python (3.8.1)"),r.a.createElement(j.a.Item,{className:"62"===o?"selected":"",eventKey:"62"},"Java (OpenJDK 13.0.1)"),r.a.createElement(j.a.Item,{className:"63"===o?"selected":"",eventKey:"63"},"JavaScript (Node.js 12.14.0)"),r.a.createElement(j.a.Item,{className:"68"===o?"selected":"",eventKey:"68"},"PHP (7.4.1)"),r.a.createElement(j.a.Item,{className:"82"===o?"selected":"",eventKey:"82"},"SQL (SQLite 3.27.2)")),r.a.createElement(O.a,{className:"fontSizeBtn",title:{14:"14px",16:"16px",18:"18px",20:"20px"}[u],onSelect:function(e){p(Number(e))}},r.a.createElement(j.a.Item,{className:14===u?"selected":"",eventKey:"14"},"14px"),r.a.createElement(j.a.Item,{className:16===u?"selected":"",eventKey:"16"},"16px"),r.a.createElement(j.a.Item,{className:18===u?"selected":"",eventKey:"18"},"18px"),r.a.createElement(j.a.Item,{className:20===u?"selected":"",eventKey:"20"},"20px")),r.a.createElement(w.a,{className:"share",onClick:y},r.a.createElement("i",{className:"fas fa-share-alt"}),"\xa0Share"),t?k:I)))},z=a(76),P=a.n(z),R=a(548),M=a(56),A=function(){var e=Object(m.a)(i.a.mark((function e(t,a,n){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,M.post("/api/ide",{language_id:t,source_code:a,stdin:n});case 3:return r=e.sent,e.abrupt("return",r);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,a,n){return e.apply(this,arguments)}}();a(117),a(118),a(119),a(120),a(121);var B=function(e){return!e||void 0===e||""===e||0===e.length},G=function(){var e=Object(n.useRef)(null),t=Object(n.useContext)(E),a=t.languageId,c=t.fontSize,o=t.code,l=t.setCode,u=t.input,d=t.setIsError,p=t.isLoading,f=t.setOutput,v=t.setIsLoading,b=function(){var e=Object(m.a)(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,v(!0),e.next=4,A(a,o,u);case 4:t=e.sent,n=t.data.data.stdout||t.data.data.stderr||t.data.data.error||t.data.data.compile_output||t.data.data.message||"",f(n),3===t.data.data.status.id?d(!1):d(!0),v(!1),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"IdeEditor IdeComponent"},r.a.createElement("ul",{className:"EditorNav"},r.a.createElement("li",null,r.a.createElement("p",null,"Your\xa0Code")),r.a.createElement("li",null,r.a.createElement(w.a,{variant:"primary",size:"sm",onClick:function(){b(),s("Run","Code Run Button","IDE_PAGE")},disabled:B(o)||p},p?r.a.createElement(R.a,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"}):r.a.createElement(r.a.Fragment,null,r.a.createElement("i",{className:"fas fa-play"}),"\xa0\xa0Run")))),r.a.createElement(P.a,{ref:e,onChange:function(){l(e.current.editor.getValue())},mode:{50:"c_cpp",54:"c_cpp",62:"java",71:"python",68:"php",82:"mysql"}[a],theme:"monokai",editorProps:{$blockScrolling:!0},showPrintMargin:!1,showGutter:!0,focus:!0,fontSize:c,highlightActiveLine:!1,placeholder:"Write your code Here",width:"100%",value:o,setOptions:{tabSize:4}}))};a(536);function K(){var e=Object(n.useContext)(E).setInput;return r.a.createElement("div",{className:"IdeComponent IdeInput"},r.a.createElement("p",null,"Input"),r.a.createElement("textarea",{type:"text",onChange:function(t){e(t.target.value)}}))}a(537);function _(){var e=Object(n.useContext)(E),t=e.output,a=e.isError,c=e.isLoading;return r.a.createElement("div",{className:"IdeComponent IdeOutput"},r.a.createElement("p",null,"Output"),r.a.createElement("textarea",{readOnly:!0,name:"output",style:{color:a?"#ff0033":"#ffffff"},disabled:c,value:c?"":t}),c?r.a.createElement(R.a,{style:{color:"white",position:"absolute",top:"50%",left:"47%"},className:"spinner",as:"span",animation:"border",size:"lg",role:"status","aria-hidden":"true"}):"")}var H=a(550);a(538);function J(){var e=Object(n.useContext)(E),t=e.shareModalShow,a=e.setShareModalShow,c=e.shareId,o="".concat(window.location.protocol,"//").concat(window.location.host,"?shareId=").concat(c);return r.a.createElement("div",{className:"IdeModal"},r.a.createElement(H.a,{show:t,animation:!0,className:"modal",onHide:function(){a(!1)}},r.a.createElement(H.a.Header,{closeButton:!0,className:"modal-header"},r.a.createElement(H.a.Title,null,"Code Shared")),r.a.createElement(H.a.Body,{className:"modal-body"},r.a.createElement("b",null,"Link"),r.a.createElement("br",null),o),r.a.createElement(H.a.Footer,{className:"modal-footer"},r.a.createElement(w.a,{variant:"primary",onClick:function(){var e="".concat(window.location.protocol,"//").concat(window.location.host,"?shareId=").concat(c),t=document.createElement("textarea");t.innerHTML=e,document.body.appendChild(t),t.select(),t.setSelectionRange(0,99999),document.execCommand("copy"),t.remove()}},"Copy"))))}var D=a(549),F=a(551);a(539);function T(){var e=Object(n.useState)("login"),t=Object(d.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(!1),l=Object(d.a)(o,2),s=l[0],u=l[1],p=Object(n.useState)(""),v=Object(d.a)(p,2),b=v[0],h=v[1],g=Object(n.useState)(""),O=Object(d.a)(g,2),j=O[0],S=O[1],x=Object(n.useState)(""),y=Object(d.a)(x,2),C=y[0],I=y[1],N=Object(n.useState)(""),k=Object(d.a)(N,2),L=k[0],z=k[1],P=Object(n.useState)(""),R=Object(d.a)(P,2),M=R[0],A=R[1],B=Object(n.useState)(""),G=Object(d.a)(B,2),K=G[0],_=G[1],J=Object(n.useContext)(E),T=J.loginModalShow,Q=J.setLoginModalShow,U=Object(n.useRef)(null),W=Object(n.useRef)(null),V=Object(n.useRef)(null),q=Object(n.useRef)(null),Y=Object(n.useRef)(null),$=Object(n.useRef)(null),X=function(){Q(!1)},Z=function(){var e=Object(m.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!b||!j){e.next=5;break}return e.next=3,f.login(b,j);case 3:"Unauthorized"===e.sent.data?u(!0):u(!1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ee=function(){var e=Object(m.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(C&&L&&M&&K)){e.next=5;break}return e.next=3,f.register(C,L,M,K);case 3:t=e.sent,console.log(t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),te=function(){h(U.current.value),S(W.current.value)},ae=function(){I(V.current.value),z(q.current.value),A(Y.current.value),_($.current.value)},ne=r.a.createElement(D.a,{variant:"danger",display:"none"},"Email or Password is wrong!");return"login"===a?r.a.createElement("div",{className:"IdeModal"},r.a.createElement(H.a,{show:T,className:"modal",size:"sm","aria-labelledby":"contained-modal-title-vcenter",onHide:X,centered:!0},r.a.createElement(H.a.Header,{closeButton:!0,onClick:X},r.a.createElement(H.a.Title,null,"Login")),r.a.createElement(H.a.Body,null,s?ne:"",r.a.createElement(F.a,{onSubmit:Z},r.a.createElement(F.a.Group,{controlId:"formLoginEmail"},r.a.createElement(F.a.Label,null,"Email "),r.a.createElement(F.a.Control,{ref:U,onChange:te,type:"email",placeholder:"Enter email",value:b})),r.a.createElement(F.a.Group,{controlId:"formLoginPassword"},r.a.createElement(F.a.Label,null,"Password"),r.a.createElement(F.a.Control,{ref:W,onChange:te,type:"password",placeholder:"Password",value:j})),r.a.createElement(w.a,{variant:"primary",onClick:Z,block:!0},"Login")),r.a.createElement("hr",null),r.a.createElement(w.a,{variant:"primary",onClick:function(){c("register"),S("")},block:!0},"Create new account")))):r.a.createElement("div",{className:"IdeModal"},r.a.createElement(H.a,{show:T,className:"modal",size:"sm","aria-labelledby":"contained-modal-title-vcenter",onHide:X,centered:!0},r.a.createElement(H.a.Header,{closeButton:!0,onClick:X},r.a.createElement(H.a.Title,null,"Register")),r.a.createElement(H.a.Body,null,r.a.createElement(F.a,{onSubmit:ee},r.a.createElement(F.a.Group,{controlId:"formRegisterName"},r.a.createElement(F.a.Label,null,"Name "),r.a.createElement(F.a.Control,{ref:V,onChange:ae,type:"text",placeholder:"Enter Name",value:C})),r.a.createElement(F.a.Group,{controlId:"formRegisterEmail"},r.a.createElement(F.a.Label,null,"Email "),r.a.createElement(F.a.Control,{ref:q,onChange:ae,type:"email",placeholder:"Enter email",value:L})),r.a.createElement(F.a.Group,{controlId:"formRegisterPassword"},r.a.createElement(F.a.Label,null,"Password"),r.a.createElement(F.a.Control,{ref:Y,onChange:ae,type:"password",placeholder:"Password",value:M})),r.a.createElement(F.a.Group,{controlId:"formRegisterPassword2"},r.a.createElement(F.a.Label,null,"Verify Password"),r.a.createElement(F.a.Control,{ref:$,onChange:ae,type:"password",placeholder:"Re-type Password",value:K})),r.a.createElement(w.a,{variant:"primary",onClick:ee,block:!0},"Register")),r.a.createElement("hr",null),r.a.createElement(w.a,{variant:"primary",onClick:function(){c("login"),A(""),_("")},block:!0},"I already have an account"))))}a(540);function Q(){var e=Object(n.useState)(null),t=Object(d.a)(e,2),a=t[0],c=t[1],o=Object(n.useContext)(E),l=o.setCode,s=o.setLanguageId,u=o.width,p=o.setWidth;return Object(n.useEffect)((function(){var e=function(){return p(window.innerWidth)};return window.addEventListener("resize",e),e(),function(){return window.removeEventListener("resize",e)}}),[p]),Object(n.useEffect)((function(){var e=function(){var e=Object(m.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k(t);case 2:a=e.sent,l(a.data.data.source_code),s(a.data.data.language_id);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t=window.location.search,n=new URLSearchParams(t);c(n.get("shareId")),a&&e(a)}),[a,l,s]),r.a.createElement("div",{className:"Ide"},r.a.createElement(g.a,{split:"horizontal",allowResize:!1},r.a.createElement(L,null),r.a.createElement(g.a,{split:u>=767?"vertical":"horizontal",minSize:0,maxSize:-5,defaultSize:"60%"},r.a.createElement(G,null),r.a.createElement(g.a,{split:"horizontal",allowResize:!1,defaultSize:"50%"},r.a.createElement(K,null),r.a.createElement(_,null)))),r.a.createElement(J,null),r.a.createElement(T,null))}a(541);var U=function(){var e;return e="UA-175900721-1",l.a.initialize(e),l.a.pageview(window.location.pathname+window.location.search),r.a.createElement("div",{className:"App"},r.a.createElement(b,null,r.a.createElement(h,null,r.a.createElement(Q,null))))};o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(U,null)),document.getElementById("root"))},73:function(e,t,a){e.exports=a.p+"static/media/pkLogo.dcec42b2.svg"},82:function(e,t,a){e.exports=a(542)},87:function(e,t,a){}},[[82,1,2]]]);
//# sourceMappingURL=main.896325a3.chunk.js.map